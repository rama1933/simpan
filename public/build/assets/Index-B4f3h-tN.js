import{r as F,p as I,c as v,o as r,w as i,a as e,i as p,t as l,u as d,j as u,k as a,g as b,v as L,b as n,F as h,m as y,B as K,e as w,s as N,y as P}from"./app-DF53rvan.js";import{r as m}from"./route-BVPoXIPw.js";import{_ as O}from"./SKPDLayout-CehLr9vy.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sidebar.esm-DrwL718E.js";const E={class:"space-y-6"},q={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},G={class:"text-gray-600 mt-1"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Q={class:"bg-white rounded-xl shadow-sm border border-blue-100 p-6"},R={class:"flex items-center"},W={class:"ml-4"},X={class:"text-2xl font-bold text-gray-900"},Y={class:"bg-white rounded-xl shadow-sm border border-green-100 p-6"},Z={class:"flex items-center"},ee={class:"ml-4"},te={class:"text-2xl font-bold text-gray-900"},se={class:"bg-white rounded-xl shadow-sm border border-yellow-100 p-6"},oe={class:"flex items-center"},re={class:"ml-4"},le={class:"text-2xl font-bold text-gray-900"},ne={class:"bg-white rounded-xl shadow-sm border border-blue-100 p-6"},de={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ae=["value"],ie={class:"bg-white rounded-xl shadow-sm border border-blue-100"},ue={key:0,class:"divide-y divide-gray-200"},ge={class:"flex items-start justify-between"},fe={class:"flex-1"},ce={class:"flex items-center gap-3 mb-2"},me={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},xe={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"},pe={key:2,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},ke={class:"text-gray-600 mb-3 line-clamp-2"},ve={class:"flex items-center gap-4 text-sm text-gray-500"},we={class:"flex items-center gap-1"},be={class:"flex items-center gap-1"},he={key:0,class:"flex items-center gap-1"},ye={class:"flex items-center gap-2 ml-4"},_e={key:1,class:"p-12 text-center text-gray-500"},je={key:2,class:"p-6 border-t border-gray-200"},Me={class:"flex items-center justify-between"},Be={class:"text-sm text-gray-700"},Ce={class:"flex items-center gap-2"},Ve={key:1},Se={__name:"Index",props:{knowledge:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(o){const x=o,g=F({search:x.filters.search||"",category:x.filters.category||"",status:x.filters.status||""}),T=I(()=>{const f=[],t=x.knowledge.current_page,k=x.knowledge.last_page;for(let c=Math.max(1,t-2);c<=Math.min(k,t+2);c++)f.push(c);return f});function H(){P.get(m("knowledge.index"),g.value,{preserveState:!0,preserveScroll:!0})}function $(f){return new Date(f).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}return(f,t)=>(r(),v(O,{"page-title":"Knowledge SKPD",user:f.$page.props.auth.user},{default:i(()=>{var k,c,_,j,M,B,C,V,S;return[e("div",E,[e("div",q,[e("div",null,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Knowledge SKPD",-1)),e("p",G,"Kelola knowledge "+l((c=(k=f.$page.props.auth.user)==null?void 0:k.skpd)==null?void 0:c.name),1)]),p(d(u),{href:d(m)("knowledge.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:i(()=>t[4]||(t[4]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),a(" Tambah Knowledge ",-1)])),_:1,__:[4]},8,["href"])]),e("div",J,[e("div",Q,[e("div",R,[t[6]||(t[6]=e("div",{class:"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",W,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Knowledge",-1)),e("p",X,l(((_=o.stats)==null?void 0:_.total)||0),1)])])]),e("div",Y,[e("div",Z,[t[8]||(t[8]=e("div",{class:"h-12 w-12 rounded-lg bg-green-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ee,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Terverifikasi",-1)),e("p",te,l(((j=o.stats)==null?void 0:j.verified)||0),1)])])]),e("div",se,[e("div",oe,[t[10]||(t[10]=e("div",{class:"h-12 w-12 rounded-lg bg-yellow-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-yellow-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",re,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Menunggu Verifikasi",-1)),e("p",le,l(((M=o.stats)==null?void 0:M.pending)||0),1)])])])]),e("div",ne,[e("div",de,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pencarian",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>g.value.search=s),type:"text",placeholder:"Cari knowledge...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,g.value.search]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>g.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[12]||(t[12]=e("option",{value:""},"Semua Kategori",-1)),(r(!0),n(h,null,y(o.categories,s=>(r(),n("option",{key:s.id,value:s.id},l(s.name),9,ae))),128))],512),[[K,g.value.category]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[14]||(t[14]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"verified"},"Terverifikasi",-1),e("option",{value:"pending"},"Menunggu Verifikasi",-1),e("option",{value:"rejected"},"Ditolak",-1)]),512),[[K,g.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:H,class:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Filter ")])])]),e("div",ie,[t[30]||(t[30]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Daftar Knowledge")],-1)),(C=(B=o.knowledge)==null?void 0:B.data)!=null&&C.length?(r(),n("div",ue,[(r(!0),n(h,null,y(o.knowledge.data,s=>{var z,D;return r(),n("div",{key:s.id,class:"p-6 hover:bg-gray-50"},[e("div",ge,[e("div",fe,[e("div",ce,[p(d(u),{href:d(m)("knowledge.show",s.id),class:"text-lg font-semibold text-gray-900 hover:text-blue-600"},{default:i(()=>[a(l(s.title),1)]),_:2},1032,["href"]),s.is_verified?(r(),n("span",me,t[16]||(t[16]=[e("svg",{class:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),a(" Terverifikasi ",-1)]))):s.verification_status==="rejected"?(r(),n("span",xe,t[17]||(t[17]=[e("svg",{class:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),a(" Ditolak ",-1)]))):(r(),n("span",pe,t[18]||(t[18]=[e("svg",{class:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),a(" Menunggu ",-1)])))]),e("p",ke,l(s.description),1),e("div",ve,[e("span",we,[t[19]||(t[19]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),a(" "+l((z=s.category)==null?void 0:z.name),1)]),e("span",be,[t[20]||(t[20]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0h6m-6 0l-1.5 1.5M14 7l1.5 1.5M3 13.5h18m-9-4.5v8"})],-1)),a(" "+l($(s.created_at)),1)]),(D=s.tags)!=null&&D.length?(r(),n("span",he,[t[21]||(t[21]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),a(" "+l(s.tags.map(A=>A.name).join(", ")),1)])):w("",!0)])]),e("div",ye,[p(d(u),{href:d(m)("knowledge.show",s.id),class:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"},{default:i(()=>t[22]||(t[22]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2,__:[22]},1032,["href"]),p(d(u),{href:d(m)("knowledge.edit",s.id),class:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors"},{default:i(()=>t[23]||(t[23]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[23]},1032,["href"])])])])}),128))])):(r(),n("div",_e,[t[25]||(t[25]=e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[26]||(t[26]=e("p",{class:"text-lg font-medium mb-2"},"Belum ada knowledge",-1)),t[27]||(t[27]=e("p",{class:"mb-4"},"Mulai dengan membuat knowledge pertama Anda",-1)),p(d(u),{href:d(m)("knowledge.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:i(()=>t[24]||(t[24]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),a(" Tambah Knowledge ",-1)])),_:1,__:[24]},8,["href"])])),(S=(V=o.knowledge)==null?void 0:V.data)!=null&&S.length&&o.knowledge.last_page>1?(r(),n("div",je,[e("div",Me,[e("div",Be," Menampilkan "+l(o.knowledge.from)+" - "+l(o.knowledge.to)+" dari "+l(o.knowledge.total)+" knowledge ",1),e("div",Ce,[o.knowledge.prev_page_url?(r(),v(d(u),{key:0,href:o.knowledge.prev_page_url,class:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50"},{default:i(()=>t[28]||(t[28]=[a(" Sebelumnya ",-1)])),_:1,__:[28]},8,["href"])):w("",!0),(r(!0),n(h,null,y(T.value,s=>(r(),n("span",{key:s,class:N(["px-3 py-2 text-sm border rounded-lg",s===o.knowledge.current_page?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])},[s!==o.knowledge.current_page?(r(),v(d(u),{key:0,href:`${o.knowledge.path}?page=${s}`},{default:i(()=>[a(l(s),1)]),_:2},1032,["href"])):(r(),n("span",Ve,l(s),1))],2))),128)),o.knowledge.next_page_url?(r(),v(d(u),{key:1,href:o.knowledge.next_page_url,class:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50"},{default:i(()=>t[29]||(t[29]=[a(" Selanjutnya ",-1)])),_:1,__:[29]},8,["href"])):w("",!0)])])])):w("",!0)])])]}),_:1},8,["user"]))}},$e=U(Se,[["__scopeId","data-v-e5681373"]]);export{$e as default};
