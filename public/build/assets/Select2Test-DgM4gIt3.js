import{d as D,r as i,n as y,A as C,K,b as m,o as g,a as e,g as _,q as b,t as p,a7 as V,v as P,F as $,k as L,i as S}from"./app-AWowqXBy.js";const O={class:"relative"},T={class:"flex items-center justify-between"},B={class:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50"},E={class:"p-2 border-b border-gray-200"},U={class:"max-h-48 overflow-y-auto"},M=["onClick"],w=D({__name:"Select2",props:{modelValue:{},options:{},placeholder:{default:"Pilih opsi..."}},emits:["update:modelValue","change"],setup(x,{emit:u}){const a=x,c=u,s=i(!1),r=i(""),f=()=>{s.value=!s.value,console.log("Toggle dropdown:",s.value),s.value&&(r.value="")},h=y(()=>{if(!r.value)return a.options;const o=r.value.toLowerCase();return a.options.filter(l=>(l.label||l.name||l.nama_skpd||"").toLowerCase().includes(o))}),d=y(()=>{if(!a.modelValue)return"";const o=a.options.find(l=>(l.value||l.id)==a.modelValue);return o?o.label||o.name||o.nama_skpd:""}),t=o=>(o.value||o.id)==a.modelValue,v=o=>{const l=o.value||o.id;l!==void 0&&(c("update:modelValue",l),c("change",l),s.value=!1,r.value="")},k=()=>{s.value=!1};return C(()=>{document.addEventListener("click",k)}),K(()=>{document.removeEventListener("click",k)}),(o,l)=>(g(),m("div",O,[e("div",{onClick:f,class:b(["w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 hover:border-gray-400 transition-colors duration-200",{"ring-2 ring-blue-500 border-blue-500":s.value}])},[e("div",T,[e("span",{class:b(["text-gray-900 truncate",{"text-gray-500":!o.modelValue}])},p(d.value||o.placeholder),3),(g(),m("svg",{class:b(["w-5 h-5 text-gray-400 transition-transform duration-200",{"rotate-180":s.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[1]||(l[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],2),_(e("div",B,[e("div",E,[_(e("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>r.value=n),type:"text",placeholder:"Cari...",class:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[P,r.value]])]),e("div",U,[(g(!0),m($,null,L(h.value,n=>(g(),m("div",{key:n.value||n.id,onClick:A=>v(n),class:b(["px-3 py-2 text-sm text-gray-900 cursor-pointer hover:bg-blue-50 hover:text-blue-900",{"bg-blue-100 text-blue-900":t(n)}])},p(n.label||n.name||n.nama_skpd),11,M))),128))])],512),[[V,s.value]])]))}}),j={class:"p-8"},q={class:"space-y-6"},z={class:"text-sm text-gray-500 mt-1"},F={class:"text-sm text-gray-500 mt-1"},I={class:"bg-gray-100 p-4 rounded-lg"},N={class:"text-sm"},G=D({__name:"Select2Test",setup(x){const u=i(""),a=i(""),c=i([{value:"",label:"Semua Kategori"},{value:"1",label:"Teknologi"},{value:"2",label:"Bisnis"},{value:"3",label:"Kesehatan"}]),s=i([{id:"",label:"Semua SKPD"},{id:"1",label:"SKPD001 - Dinas Teknologi"},{id:"2",label:"SKPD002 - Dinas Ekonomi"},{id:"3",label:"SKPD003 - Dinas Kesehatan"}]),r=d=>{console.log("Category changed:",d)},f=d=>{console.log("SKPD changed:",d)},h=y(()=>({selectedCategory:u.value,selectedSKPD:a.value,categoryOptions:c.value,skpdOptions:s.value}));return(d,t)=>(g(),m("div",j,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold mb-6"},"Test Select2 Component",-1)),e("div",q,[e("div",null,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),S(w,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=v=>u.value=v),options:c.value,placeholder:"Pilih Kategori...",onChange:r},null,8,["modelValue","options"]),e("p",z,"Selected: "+p(u.value),1)]),e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"SKPD",-1)),S(w,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=v=>a.value=v),options:s.value,placeholder:"Pilih SKPD...",onChange:f},null,8,["modelValue","options"]),e("p",F,"Selected: "+p(a.value),1)]),e("div",I,[t[4]||(t[4]=e("h3",{class:"font-semibold mb-2"},"Debug Info:",-1)),e("pre",N,p(h.value),1)])])]))}});export{G as default};
