import{s as W,c as X,o as l,w as u,a as e,b as i,e as x,t as n,i as T,u as c,l as z,j as L,x as F,F as H,k as E,h as N,y as I}from"./app-BVYVdaoR.js";import{_ as Y}from"./AdminLayout-B6iN6CQN.js";import{r as m}from"./route-BA7VisEj.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sidebar.esm-B-fVakm-.js";const ee={class:"max-w-4xl mx-auto space-y-6"},te={class:"flex items-center justify-between"},se={class:"text-2xl font-bold text-gray-900"},oe={class:"text-gray-600 mt-1"},ne={class:"flex items-center space-x-3"},le={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},ie={class:"text-gray-900"},ae={class:"text-gray-900"},de={class:"text-gray-900"},ge={class:"text-gray-900"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},me={class:"flex items-center space-x-2"},ue={class:"flex flex-wrap gap-1"},xe={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},fe=["innerHTML"],be={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex-1"},ye={class:"text-sm font-medium text-gray-900"},he={class:"text-xs text-gray-500"},ve=["href"],pe={__name:"Show",props:{knowledge:Object,user:Object},setup(o){const d=o,O=W(()=>{var t;return(t=d.knowledge)!=null&&t.content?d.knowledge.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^# (.*$)/gim,"<h1>$1</h1>").replace(/^## (.*$)/gim,"<h2>$1</h2>").replace(/^### (.*$)/gim,"<h3>$1</h3>").replace(/\n/g,"<br>"):""}),P=async()=>{try{await N.post(m("admin.knowledge.verify",d.knowledge.id)),I.reload()}catch(s){console.error("Error verifying knowledge:",s)}},G=async()=>{try{await N.post(m("admin.knowledge.unverify",d.knowledge.id)),I.reload()}catch(s){console.error("Error unverifying knowledge:",s)}},q=s=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",A=s=>({published:"Dipublikasi",draft:"Draft",archived:"Diarsipkan"})[s]||s,J=s=>({verified:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",Q=s=>({verified:"Terverifikasi",pending:"Menunggu",rejected:"Ditolak"})[s]||s,R=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=s=>{if(s===0)return"0 Bytes";const t=1024,g=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,a)).toFixed(2))+" "+g[a]};return(s,t)=>{var g;return l(),X(Y,{"page-title":((g=o.knowledge)==null?void 0:g.title)||"Detail Knowledge",user:o.user},{default:u(()=>{var a,f,b,k,w,y,h,v,p,_,B,D,C,M,V,S,j,$,K;return[e("div",ee,[e("div",te,[e("div",null,[e("h1",se,n((a=o.knowledge)==null?void 0:a.title),1),e("p",oe,n((f=o.knowledge)==null?void 0:f.description),1)]),e("div",ne,[T(c(z),{href:c(m)("admin.knowledge.index"),class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:u(()=>t[0]||(t[0]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),L(" Kembali ",-1)])),_:1,__:[0]},8,["href"]),T(c(z),{href:c(m)("admin.knowledge.edit",(b=o.knowledge)==null?void 0:b.id),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:u(()=>t[1]||(t[1]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),L(" Edit ",-1)])),_:1,__:[1]},8,["href"])])]),e("div",le,[e("div",re,[e("div",null,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Kategori",-1)),e("p",ie,n((w=(k=o.knowledge)==null?void 0:k.category)==null?void 0:w.name),1)]),e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Penulis",-1)),e("p",ae,n((h=(y=o.knowledge)==null?void 0:y.author)==null?void 0:h.name),1)]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"SKPD",-1)),e("p",de,n((p=(v=o.knowledge)==null?void 0:v.skpd)==null?void 0:p.name),1)]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Tanggal Dibuat",-1)),e("p",ge,n(R((_=o.knowledge)==null?void 0:_.created_at)),1)])]),e("div",ce,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Status",-1)),e("span",{class:F([q((B=o.knowledge)==null?void 0:B.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},n(A((D=o.knowledge)==null?void 0:D.status)),3)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Status Verifikasi",-1)),e("div",me,[e("span",{class:F([J((C=o.knowledge)==null?void 0:C.verification_status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},n(Q((M=o.knowledge)==null?void 0:M.verification_status)),3),((V=o.knowledge)==null?void 0:V.verification_status)==="pending"?(l(),i("button",{key:0,onClick:P,class:"text-green-600 hover:text-green-800 text-sm font-medium"}," Verifikasi ")):x("",!0),((S=o.knowledge)==null?void 0:S.verification_status)==="verified"?(l(),i("button",{key:1,onClick:G,class:"text-yellow-600 hover:text-yellow-800 text-sm font-medium"}," Batal Verifikasi ")):x("",!0)])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Tags",-1)),e("div",ue,[(l(!0),i(H,null,E((j=o.knowledge)==null?void 0:j.tags,r=>(l(),i("span",{key:r,class:"inline-flex px-2 py-1 text-xs font-medium bg-brand-100 text-brand-800 rounded-full"},n(r),1))),128))])])])]),e("div",xe,[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Konten",-1)),e("div",{class:"prose max-w-none",innerHTML:O.value},null,8,fe)]),(K=($=o.knowledge)==null?void 0:$.attachments)!=null&&K.length?(l(),i("div",be,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Lampiran",-1)),e("div",ke,[(l(!0),i(H,null,E(o.knowledge.attachments,r=>(l(),i("div",{key:r.id,class:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[t[10]||(t[10]=e("svg",{class:"w-8 h-8 text-gray-400 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",we,[e("p",ye,n(r.original_name),1),e("p",he,n(U(r.file_size)),1)]),e("a",{href:r.file_url,target:"_blank",class:"text-brand-600 hover:text-brand-800 text-sm font-medium"}," Download ",8,ve)]))),128))])])):x("",!0)])]}),_:1},8,["page-title","user"])}}},Ve=Z(pe,[["__scopeId","data-v-b0ebb472"]]);export{Ve as default};
