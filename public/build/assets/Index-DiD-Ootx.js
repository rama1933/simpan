import{r as V,c as w,o,w as f,a as e,b as r,e as _,j as x,i as a,l as m,k as c,g as v,v as L,m as B,F as h,s as k,t as i,n as M,B as j}from"./app-BIhgf5nV.js";import{_ as H}from"./AdminLayout-OZS69ePM.js";import{r as g}from"./route-fMlyL4SZ.js";const K={class:"flex justify-between items-center mb-6"},z={class:"bg-white p-6 rounded-lg shadow mb-6"},P={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},N={class:"bg-white shadow overflow-hidden sm:rounded-md"},O={class:"divide-y divide-gray-200"},A={class:"flex items-center justify-between"},F={class:"flex-1"},U={class:"flex items-center justify-between"},I={class:"text-sm font-medium text-indigo-600 truncate"},$={class:"ml-2 flex-shrink-0 flex"},E={class:"mt-2 flex items-center text-sm text-gray-500"},q={class:"truncate"},G={class:"mt-2 flex items-center text-sm text-gray-500"},J={class:"mr-4"},Q={class:"mr-4"},R={key:0,class:"mt-2"},W={class:"flex flex-wrap gap-2"},X={class:"ml-4 flex-shrink-0 flex space-x-2"},Y=["onClick"],Z={key:0,class:"mt-6"},ee={class:"flex justify-center"},te={class:"flex space-x-1"},ae={__name:"Index",props:{knowledge:{type:Object,default:()=>({data:[],links:[]})},filters:{type:Object,default:()=>({})},perPage:{type:Number,default:15},user:{type:Object,default:null}},setup(d){const p=d,l=V({search:p.filters.search||"",category:p.filters.category||"",status:p.filters.status||""}),y=(()=>{let n;return()=>{clearTimeout(n),n=setTimeout(()=>{b()},500)}})(),b=()=>{j.get(g("knowledge.index"),l.value,{preserveState:!0,replace:!0})},C=n=>{confirm("Apakah Anda yakin ingin menghapus pengetahuan ini?")&&j.delete(g("knowledge.destroy",n))},S=n=>({draft:"bg-yellow-100 text-yellow-800",published:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"})[n]||"bg-blue-100 text-blue-800",D=n=>({draft:"Draft",published:"Dipublikasi",archived:"Diarsipkan"})[n]||"Tidak Diketahui",T=n=>n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"";return(n,t)=>(o(),w(H,{"page-title":"Knowledge Management",user:d.user},{default:f(()=>[e("div",K,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Manajemen Pengetahuan"),e("p",{class:"text-gray-600 mt-2"},"Kelola dan atur semua pengetahuan dalam sistem")],-1)),x(a(m),{href:a(g)("knowledge.create"),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:f(()=>t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Tambah Pengetahuan ",-1)])),_:1,__:[4]},8,["href"])]),e("div",z,[e("div",P,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pencarian",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search=s),type:"text",placeholder:"Cari pengetahuan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",onInput:t[1]||(t[1]=(...s)=>a(y)&&a(y)(...s))},null,544),[[L,l.value.search]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"},t[7]||(t[7]=[e("option",{value:""},"Semua Kategori",-1),e("option",{value:"Teknologi"},"Teknologi",-1),e("option",{value:"Bisnis"},"Bisnis",-1),e("option",{value:"Kesehatan"},"Kesehatan",-1),e("option",{value:"Pendidikan"},"Pendidikan",-1),e("option",{value:"Seni & Budaya"},"Seni & Budaya",-1),e("option",{value:"Olahraga"},"Olahraga",-1),e("option",{value:"Sains"},"Sains",-1),e("option",{value:"Lainnya"},"Lainnya",-1)]),512),[[B,l.value.category]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"},t[9]||(t[9]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Dipublikasi",-1),e("option",{value:"archived"},"Diarsipkan",-1)]),512),[[B,l.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:b,class:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Terapkan Filter ")])])]),e("div",N,[e("ul",O,[(o(!0),r(h,null,k(d.knowledge.data,s=>(o(),r("li",{key:s.id,class:"px-6 py-4"},[e("div",A,[e("div",F,[e("div",U,[e("p",I,[x(a(m),{href:a(g)("knowledge.show",s.id),class:"hover:text-indigo-500"},{default:f(()=>[c(i(s.title),1)]),_:2},1032,["href"])]),e("div",$,[e("span",{class:M([S(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i(D(s.status)),3)])]),e("div",E,[e("span",q,i(s.description),1)]),e("div",G,[e("span",J,[t[11]||(t[11]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),c(" "+i(s.category),1)]),e("span",Q,[t[12]||(t[12]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),c(" "+i(s.author?.name||"Unknown"),1)]),e("span",null,[t[13]||(t[13]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),c(" "+i(T(s.created_at)),1)])]),s.tags&&s.tags.length>0?(o(),r("div",R,[e("div",W,[(o(!0),r(h,null,k(s.tags,u=>(o(),r("span",{key:u,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},i(u),1))),128))])])):_("",!0)]),e("div",X,[x(a(m),{href:a(g)("knowledge.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:f(()=>t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[14]},1032,["href"]),e("button",{onClick:u=>C(s.id),class:"text-red-600 hover:text-red-900"},t[15]||(t[15]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Y)])])]))),128))])]),d.knowledge.links&&d.knowledge.links.length>1?(o(),r("div",Z,[e("nav",ee,[e("div",te,[(o(!0),r(h,null,k(d.knowledge.links,(s,u)=>(o(),w(a(m),{key:u,href:s.url,class:M(["px-3 py-2 text-sm font-medium rounded-md",s.url===null?"text-gray-400 cursor-not-allowed":s.active?"bg-indigo-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):_("",!0)]),_:1},8,["user"]))}};export{ae as default};
