import{r as b,m as ce,b as l,o as n,a as e,e as c,g as J,v as Q,F as A,k as V,q as T,t as i,h as X,y as B,G as ge,n as O,c as H,w as q,i as F,j as p,u as R,l as G,f as me,s as pe,M as ve}from"./app-FastzsqD.js";import{_ as le}from"./VueSelect.vue_vue_type_script_setup_true_lang-Dw15n5_q.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as he}from"./PublicLayout-BBb7nicx.js";import{r as xe}from"./route-BVPoXIPw.js";const fe={class:"relative w-full max-w-2xl mx-auto"},be={class:"relative"},ke={class:"absolute inset-y-0 right-0 pr-4 flex items-center"},ye={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-hidden"},we={key:0,class:"p-4 text-center"},_e={key:1,class:"border-b border-gray-100"},Me={class:"max-h-48 overflow-y-auto"},Ce=["onClick"],$e={class:"flex items-center space-x-3"},Se=["innerHTML"],je={class:"text-sm text-gray-500 truncate"},Ae={key:2},Te={class:"max-h-48 overflow-y-auto"},Ve=["onClick"],Ie={class:"flex items-start space-x-3"},Be={class:"flex-1 min-w-0"},Pe={class:"font-medium text-gray-900 truncate"},Le={class:"text-sm text-gray-500 line-clamp-2"},De={class:"flex items-center mt-1 space-x-2 text-xs text-gray-400"},Ke={class:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full"},ze={key:3,class:"p-6 text-center"},He={class:"text-gray-500"},Fe={__name:"GoogleLikeSearch",props:{initialValue:{type:String,default:""},placeholder:{type:String,default:"Cari pengetahuan, topik, atau kata kunci..."}},emits:["search","select"],setup(g,{emit:y}){const d=g,I=y,u=b(d.initialValue),k=b(!1),m=b([]),x=b([]),M=b(!1),w=b(-1),C=b(null);let v=null;const $=()=>{if(clearTimeout(v),w.value=-1,u.value.length<2){m.value=[],j();return}v=setTimeout(()=>{S()},300)},S=async()=>{if(!(u.value.length<2)){M.value=!0;try{const o=await X.get("/api/knowledge/search-suggestions",{params:{q:u.value}});m.value=o.data.suggestions||[],x.value=o.data.recommendations||[]}catch(o){console.error("Error fetching suggestions:",o),m.value=[],x.value=[]}finally{M.value=!1}}},j=async()=>{try{const o=await X.get("/api/knowledge/recommendations");x.value=o.data.recommendations||[]}catch(o){console.error("Error loading recommendations:",o),x.value=[]}},P=o=>{u.value=o.title,k.value=!1,I("search",o.title),K(o.title)},L=o=>{k.value=!1,I("select",o),B.visit(`/knowledge/public/${o.id}`)},D=()=>{var o;u.value="",m.value=[],w.value=-1,j(),(o=C.value)==null||o.focus()},E=o=>{var h;const r=m.value.length+x.value.length;switch(o.key){case"ArrowDown":o.preventDefault(),w.value=Math.min(w.value+1,r-1);break;case"ArrowUp":o.preventDefault(),w.value=Math.max(w.value-1,-1);break;case"Enter":if(o.preventDefault(),w.value>=0)if(w.value<m.value.length)P(m.value[w.value]);else{const _=w.value-m.value.length;L(x.value[_])}else u.value.trim()&&K(u.value);break;case"Escape":k.value=!1,(h=C.value)==null||h.blur();break}},K=o=>{k.value=!1,I("search",o),B.get("/knowledge/public",{search:o},{preserveState:!0,preserveScroll:!0})},z=o=>{if(!u.value||u.value.length<2)return o;const r=new RegExp(`(${u.value})`,"gi");return o.replace(r,'<mark class="bg-yellow-200">$1</mark>')};return j(),ce(()=>d.initialValue,o=>{u.value=o}),(o,r)=>(n(),l("div",fe,[e("div",be,[r[4]||(r[4]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),J(e("input",{ref_key:"searchInput",ref:C,"onUpdate:modelValue":r[0]||(r[0]=h=>u.value=h),onInput:$,onFocus:r[1]||(r[1]=h=>k.value=!0),onKeydown:E,type:"text",placeholder:"Cari pengetahuan, topik, atau kata kunci...",class:"w-full pl-12 pr-12 py-4 text-lg border-2 border-gray-300 rounded-full focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl"},null,544),[[Q,u.value]]),e("div",ke,[u.value?(n(),l("button",{key:0,onClick:D,class:"text-gray-400 hover:text-gray-600 transition-colors"},r[3]||(r[3]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):c("",!0)])]),k.value&&(m.value.length>0||x.value.length>0||M.value)?(n(),l("div",ye,[M.value?(n(),l("div",we,r[5]||(r[5]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto"},null,-1),e("p",{class:"text-sm text-gray-500 mt-2"},"Mencari...",-1)]))):c("",!0),m.value.length>0&&!M.value?(n(),l("div",_e,[r[7]||(r[7]=e("div",{class:"px-4 py-2 bg-gray-50 text-xs font-semibold text-gray-600 uppercase tracking-wide"}," Saran Pencarian ",-1)),e("div",Me,[(n(!0),l(A,null,V(m.value,(h,_)=>(n(),l("button",{key:`suggestion-${_}`,onClick:U=>P(h),class:T(["w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-50 last:border-b-0",w.value===_?"bg-blue-50":""])},[e("div",$e,[r[6]||(r[6]=e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("div",null,[e("div",{class:"font-medium text-gray-900",innerHTML:z(h.title)},null,8,Se),e("div",je,i(h.description),1)])])],10,Ce))),128))])])):c("",!0),x.value.length>0&&!M.value?(n(),l("div",Ae,[r[9]||(r[9]=e("div",{class:"px-4 py-2 bg-gray-50 text-xs font-semibold text-gray-600 uppercase tracking-wide"}," Rekomendasi untuk Anda ",-1)),e("div",Te,[(n(!0),l(A,null,V(x.value,(h,_)=>(n(),l("button",{key:`rec-${h.id}`,onClick:U=>L(h),class:T(["w-full text-left px-4 py-3 hover:bg-green-50 transition-colors border-b border-gray-50 last:border-b-0",w.value===m.value.length+_?"bg-green-50":""])},[e("div",Ie,[r[8]||(r[8]=e("div",{class:"flex-shrink-0 mt-1"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"})],-1)),e("div",Be,[e("div",Pe,i(h.title),1),e("div",Le,i(h.description),1),e("div",De,[e("span",Ke,i(h.category),1),e("span",null,i(h.author),1)])])])],10,Ve))),128))])])):c("",!0),!M.value&&m.value.length===0&&x.value.length===0&&u.value.length>2?(n(),l("div",ze,[r[10]||(r[10]=e("svg",{class:"h-12 w-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.562M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),e("p",He,'Tidak ada hasil ditemukan untuk "'+i(u.value)+'"',1),r[11]||(r[11]=e("p",{class:"text-sm text-gray-400 mt-1"},"Coba kata kunci yang berbeda atau lebih spesifik",-1))])):c("",!0)])):c("",!0),k.value?(n(),l("div",{key:1,onClick:r[2]||(r[2]=h=>k.value=!1),class:"fixed inset-0 z-40"})):c("",!0)]))}},Ee=oe(Fe,[["__scopeId","data-v-a03c9a6a"]]),Ue={class:"mb-8"},Ne={class:"text-3xl font-bold text-gray-900 mb-2"},Oe={class:"text-gray-600"},qe={__name:"PublicPageHeader",props:{title:{type:String,required:!0},description:{type:String,default:""}},setup(g){return(y,d)=>(n(),l("div",Ue,[e("h1",Ne,i(g.title),1),e("p",Oe,i(g.description),1)]))}},Re={class:"bg-white p-6 rounded-xl shadow-md ring-1 ring-gray-100 mb-8"},Ge={class:"flex items-center justify-between mb-6"},Je={class:"flex space-x-3"},Qe=["disabled"],Xe={class:"grid grid-cols-1 gap-4"},We={class:"space-y-2"},Ye={key:0,class:"mt-6 pt-6 border-t border-gray-200"},Ze={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},et={class:"space-y-2"},tt={class:"space-y-2"},st={class:"space-y-2 md:col-span-2"},nt={key:0,class:"mt-2"},at={class:"flex flex-wrap gap-2 max-h-32 overflow-y-auto"},lt=["onClick"],ot={key:0,class:"ml-1"},rt={key:1,class:"mt-3"},it={class:"text-xs text-gray-500 mb-2"},dt={class:"flex flex-wrap gap-2"},ut=["onClick"],ct={class:"mt-4 text-center"},gt={key:0,class:"mt-4 pt-4 border-t border-gray-100"},mt={class:"flex items-center space-x-2"},pt={class:"flex flex-wrap gap-2"},vt={key:0,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ht={key:1,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},xt={key:2,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},ft={key:3,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},bt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},kt=["onClick"],yt={class:"p-6"},wt={class:"flex items-center justify-between mb-3"},_t={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Mt={class:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2"},Ct={class:"text-gray-600 text-sm mb-4 line-clamp-3"},$t={class:"flex items-center justify-between text-xs text-gray-500"},St={class:"flex items-center space-x-4"},jt={class:"flex items-center"},At={class:"flex items-center"},Tt={key:0,class:"mt-3 flex flex-wrap gap-1"},Vt={key:0,class:"text-xs text-gray-500"},It={key:2,class:"text-center py-12"},Bt={key:3,class:"mt-8"},Pt={class:"flex items-center justify-between"},Lt={class:"flex-1 flex justify-between sm:hidden"},Dt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Kt={class:"text-sm text-gray-700"},zt={class:"font-medium"},Ht={class:"font-medium"},Ft={class:"font-medium"},Et={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Ut=["innerHTML"],Nt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ot={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},qt={class:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 mb-4 bg-gray-50"},Rt={key:0,class:"text-center text-gray-500 mt-20"},Gt={class:"text-sm whitespace-pre-wrap"},Jt={key:1,class:"flex justify-start mb-4"},Qt={class:"flex space-x-2"},Xt=["disabled"],Wt=["disabled"],Yt={__name:"Public",props:{knowledge:Object,filters:Object,categories:Array,skpds:Array},setup(g){var Z,ee,te,se;const y=g,d=ge({search:((Z=y.filters)==null?void 0:Z.search)||"",category_id:((ee=y.filters)==null?void 0:ee.category_id)||"",skpd_id:((te=y.filters)==null?void 0:te.skpd_id)||""}),I=b(!1),u=b([]),k=b(""),m=b(!1),x=b(!1),M=O(()=>{const a=[{value:"",label:"Semua Kategori"}];return y.categories&&a.push(...y.categories.map(t=>({value:t.id,label:t.name}))),a}),w=O(()=>{const a=[{value:"",label:"Semua SKPD"}];return y.skpds&&a.push(...y.skpds.map(t=>({value:t.id,label:t.nama_skpd}))),a}),C=b(""),v=b(Array.isArray((se=y.filters)==null?void 0:se.tags)?y.filters.tags:[]),$=b([]),S=b([]),j=()=>{const a={...d,tags:v.value.length>0?v.value:void 0};Object.keys(a).forEach(t=>{(a[t]===""||a[t]===null||a[t]===void 0)&&delete a[t]}),B.get("/knowledge/public",a,{preserveState:!0,preserveScroll:!0})},P=()=>{d.search="",d.category_id="",d.skpd_id="",v.value=[],S.value=[],C.value="",$.value=[],j()},L=a=>{const t=$.value.find(f=>f.id===a);if(t)return t.name;const s=S.value.find(f=>f.id===a);return(s==null?void 0:s.name)||`Tag ${a}`},D=a=>{v.value=v.value.filter(t=>t!==a),S.value=S.value.filter(t=>t.id!==a),j()},E=a=>{v.value.includes(a.id)?D(a.id):(v.value.push(a.id),S.value.find(t=>t.id===a.id)||S.value.push(a),j())},K=async()=>{if(C.value.length<2){$.value=[];return}try{const a=await X.get("/api/knowledge/tags",{params:{q:C.value}});$.value=a.data.data||[]}catch(a){console.error("Error searching tags:",a),$.value=[]}};let z=null;const o=()=>{clearTimeout(z),z=setTimeout(()=>{K()},300)},r=a=>{B.visit(xe("knowledge.public.show",a))},h=a=>new Date(a).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),_=O(()=>d.search||d.category_id||d.skpd_id||v.value.length>0),U=a=>{var s;const t=(s=y.categories)==null?void 0:s.find(f=>f.id==a);return(t==null?void 0:t.name)||"Unknown"},re=a=>{var s;const t=(s=y.skpds)==null?void 0:s.find(f=>f.id==a);return(t==null?void 0:t.nama_skpd)||"Unknown"},ie=a=>{d.search=a,j()},de=a=>{B.visit(`/knowledge/public/${a.id}`)},ue=()=>{I.value=!0,u.value.length===0&&u.value.push({role:"assistant",content:`Halo! Saya adalah AI Assistant yang akan membantu Anda menjelajahi dan memahami seluruh pengetahuan yang tersedia di sistem manajemen pengetahuan ini.

Saya dapat membantu Anda dengan:
- Mencari informasi tentang dokumen pengetahuan yang tersedia
- Menjelaskan konsep atau topik dari berbagai dokumen
- Memberikan ringkasan dari pengetahuan yang ada
- Menjawab pertanyaan umum tentang sistem

Ada yang ingin Anda ketahui tentang pengetahuan di sistem ini?`})},W=()=>{I.value=!1},Y=async()=>{var t;if(!k.value.trim()||m.value)return;const a=k.value.trim();k.value="",u.value.push({role:"user",content:a}),m.value=!0;try{const s=await fetch("/api/ai/gemini/chat",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content")},body:JSON.stringify({message:a,context:{knowledge_title:"Sistem Manajemen Pengetahuan",knowledge_content:"Seluruh pengetahuan yang tersedia di aplikasi",knowledge_description:"AI Assistant untuk membantu menjawab pertanyaan tentang seluruh pengetahuan yang ada di sistem manajemen pengetahuan ini, termasuk dokumen, konsep, dan informasi yang tersimpan"}})});if(!s.ok)throw new Error("Failed to get AI response");const f=await s.json();u.value.push({role:"assistant",content:f.response})}catch(s){console.error("AI Error:",s),u.value.push({role:"assistant",content:"Maaf, terjadi kesalahan saat menghubungi AI Assistant. Silakan coba lagi."})}finally{m.value=!1,await ve();const s=document.querySelector(".h-96.overflow-y-auto");s&&(s.scrollTop=s.scrollHeight)}};return(a,t)=>(n(),H(he,null,{default:q(()=>[F(qe,{title:"Temukan Pengetahuan",description:"Jelajahi koleksi pengetahuan yang telah terverifikasi dari Pemerintah Kabupaten Hulu Sungai Selatan"}),e("div",Re,[e("div",Ge,[t[13]||(t[13]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Filter Data"),e("p",{class:"text-sm text-gray-500 mt-1"},"Saring data berdasarkan kriteria yang diinginkan")],-1)),e("div",Je,[e("button",{onClick:ue,class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105"},t[10]||(t[10]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),p(" AI Assistant ",-1)])),e("button",{onClick:j,class:"inline-flex items-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm"},t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})],-1),p(" Filter Data ",-1)])),e("button",{onClick:P,disabled:!_.value,class:T(["inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-all duration-200",_.value?"text-gray-600 bg-gray-50 border-gray-300 hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm":"text-gray-400 bg-gray-100 border-gray-200 cursor-not-allowed"])},t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),p(" Hapus Filter ",-1)]),10,Qe)])]),e("div",Xe,[e("div",We,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Pencarian Cerdas",-1)),F(Ee,{"initial-value":d.search,onSearch:ie,onSelect:de},null,8,["initial-value"])])]),x.value?(n(),l("div",Ye,[e("div",Ze,[e("div",et,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Kategori",-1)),F(le,{modelValue:d.category_id,"onUpdate:modelValue":t[0]||(t[0]=s=>d.category_id=s),options:M.value,placeholder:"Pilih Kategori..."},null,8,["modelValue","options"])]),e("div",tt,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"SKPD",-1)),F(le,{modelValue:d.skpd_id,"onUpdate:modelValue":t[1]||(t[1]=s=>d.skpd_id=s),options:w.value,placeholder:"Pilih SKPD..."},null,8,["modelValue","options"])]),e("div",st,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tags",-1)),J(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>C.value=s),onInput:o,type:"text",placeholder:"Cari tag...",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 hover:border-gray-400 transition-colors duration-200"},null,544),[[Q,C.value]]),$.value.length>0?(n(),l("div",nt,[t[17]||(t[17]=e("div",{class:"text-xs text-gray-500 mb-2"},"Pilih tag:",-1)),e("div",at,[(n(!0),l(A,null,V($.value,s=>(n(),l("button",{key:s.id,type:"button",onClick:f=>E(s),class:T([v.value.includes(s.id)?"bg-blue-600 text-white border-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-gray-200","px-2.5 py-1.5 text-xs rounded-md border transition-colors duration-200"])},[p(i(s.name)+" ",1),v.value.includes(s.id)?(n(),l("span",ot,"✓")):c("",!0)],10,lt))),128))])])):c("",!0),v.value.length?(n(),l("div",rt,[e("div",it,"Tag terpilih ("+i(v.value.length)+"):",1),e("div",dt,[(n(!0),l(A,null,V(v.value,s=>(n(),l("span",{key:`sel-${s}`,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs bg-indigo-100 text-indigo-800"},[p(i(L(s))+" ",1),e("button",{class:"ml-1.5 text-indigo-600 hover:text-indigo-800 font-medium",onClick:f=>D(s)},"×",8,ut)]))),128))])])):c("",!0)])]),e("div",ct,[e("button",{onClick:t[3]||(t[3]=s=>x.value=!x.value),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 hover:border-blue-300 transition-all duration-200"},[(n(),l("svg",{class:T(["w-4 h-4 mr-2 transition-transform duration-200",x.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2)),p(" "+i(x.value?"Sembunyikan":"Tampilkan")+" Filter Lanjutan ",1)])]),_.value?(n(),l("div",gt,[e("div",mt,[t[20]||(t[20]=e("span",{class:"text-sm text-gray-500"},"Filter aktif:",-1)),e("div",pt,[d.search?(n(),l("span",vt,[p(" Search: "+i(d.search)+" ",1),e("button",{onClick:t[4]||(t[4]=s=>d.search=""),class:"ml-1.5 text-blue-700 hover:text-blue-900"}," × ")])):c("",!0),d.category_id?(n(),l("span",ht,[p(" Kategori: "+i(U(d.category_id))+" ",1),e("button",{onClick:t[5]||(t[5]=s=>d.category_id=""),class:"ml-1.5 text-green-600 hover:text-green-800"}," × ")])):c("",!0),d.skpd_id?(n(),l("span",xt,[p(" SKPD: "+i(re(d.skpd_id))+" ",1),e("button",{onClick:t[6]||(t[6]=s=>d.skpd_id=""),class:"ml-1.5 text-purple-600 hover:text-purple-800"}," × ")])):c("",!0),v.value.length>0?(n(),l("span",ft,[p(" Tags: "+i(v.value.length)+" dipilih ",1),e("button",{onClick:t[7]||(t[7]=s=>{v.value=[],S.value=[]}),class:"ml-1.5 text-indigo-600 hover:text-indigo-800"}," × ")])):c("",!0)])])])):c("",!0)])):c("",!0),g.knowledge&&g.knowledge.data&&g.knowledge.data.length>0?(n(),l("div",bt,[(n(!0),l(A,null,V(g.knowledge.data,s=>{var f,ne,ae;return n(),l("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:N=>r(s.id)},[e("div",yt,[e("div",wt,[e("span",_t,i(((f=s.category)==null?void 0:f.name)||"Umum"),1),t[21]||(t[21]=e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Terverifikasi ",-1))]),e("h3",Mt,i(s.title),1),e("p",Ct,i(s.description||"Tidak ada deskripsi"),1),e("div",$t,[e("div",St,[e("span",jt,[t[22]||(t[22]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),p(" "+i(((ne=s.author)==null?void 0:ne.name)||"Unknown"),1)]),e("span",At,[t[23]||(t[23]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),p(" "+i(((ae=s.skpd)==null?void 0:ae.nama_skpd)||"SKPD"),1)])]),e("div",null,i(h(s.created_at)),1)]),s.tags_relation&&s.tags_relation.length>0?(n(),l("div",Tt,[(n(!0),l(A,null,V(s.tags_relation.slice(0,3),N=>(n(),l("span",{key:N.id,class:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800"},[t[24]||(t[24]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),p(" "+i(N.name),1)]))),128)),s.tags_relation.length>3?(n(),l("span",Vt," +"+i(s.tags_relation.length-3)+" lainnya ",1)):c("",!0)])):c("",!0)])],8,kt)}),128))])):(n(),l("div",It,t[25]||(t[25]=[e("div",{class:"w-24 h-24 mx-auto mb-4 text-gray-300"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Tidak ada pengetahuan ditemukan",-1),e("p",{class:"text-gray-600"},"Coba ubah filter pencarian atau kata kunci Anda.",-1)]))),g.knowledge&&g.knowledge.data&&g.knowledge.data.length>0&&g.knowledge.links&&g.knowledge.links.length>0?(n(),l("div",Bt,[e("nav",Pt,[e("div",Lt,[g.knowledge.prev_page_url?(n(),H(R(G),{key:0,href:g.knowledge.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:q(()=>t[26]||(t[26]=[p(" Sebelumnya ",-1)])),_:1,__:[26]},8,["href"])):c("",!0),g.knowledge.next_page_url?(n(),H(R(G),{key:1,href:g.knowledge.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:q(()=>t[27]||(t[27]=[p(" Selanjutnya ",-1)])),_:1,__:[27]},8,["href"])):c("",!0)]),e("div",Dt,[e("div",null,[e("p",Kt,[t[28]||(t[28]=p(" Menampilkan ",-1)),e("span",zt,i(g.knowledge.from),1),t[29]||(t[29]=p(" sampai ",-1)),e("span",Ht,i(g.knowledge.to),1),t[30]||(t[30]=p(" dari ",-1)),e("span",Ft,i(g.knowledge.total),1),t[31]||(t[31]=p(" hasil ",-1))])]),e("div",null,[e("nav",Et,[(n(!0),l(A,null,V(g.knowledge.links,s=>(n(),l(A,{key:s.label},[s.url?(n(),H(R(G),{key:0,href:s.url,class:T(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),"preserve-scroll":!0,innerHTML:s.label},null,8,["href","class","innerHTML"])):(n(),l("span",{key:1,class:T(["relative inline-flex items-center px-4 py-2 border text-sm font-medium","bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,8,Ut))],64))),128))])])])])])):c("",!0)]),I.value?(n(),l("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:W},[e("div",Nt,[t[37]||(t[37]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",{class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",onClick:t[9]||(t[9]=me(()=>{},["stop"]))},[e("div",Ot,[e("div",{class:"flex items-center justify-between mb-4"},[t[33]||(t[33]=e("h3",{class:"text-lg font-medium text-gray-900 flex items-center"},[e("svg",{class:"w-6 h-6 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),p(" AI Assistant - Gemini ")],-1)),e("button",{onClick:W,class:"text-gray-400 hover:text-gray-600"},t[32]||(t[32]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",qt,[u.value.length===0?(n(),l("div",Rt,t[34]||(t[34]=[e("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),e("p",null,"Mulai percakapan dengan AI Assistant tentang sistem manajemen pengetahuan",-1)]))):c("",!0),(n(!0),l(A,null,V(u.value,(s,f)=>(n(),l("div",{key:f,class:"mb-4"},[e("div",{class:T(s.role==="user"?"flex justify-end":"flex justify-start")},[e("div",{class:T(["max-w-xs lg:max-w-md px-4 py-2 rounded-lg",s.role==="user"?"bg-purple-500 text-white":"bg-gray-100 text-gray-800"])},[e("p",Gt,i(s.content),1)],2)],2)]))),128)),m.value?(n(),l("div",Jt,t[35]||(t[35]=[e("div",{class:"bg-white border border-gray-200 px-4 py-2 rounded-lg"},[e("div",{class:"flex items-center space-x-2"},[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),e("span",{class:"text-sm text-gray-500"},"AI sedang mengetik...")])],-1)]))):c("",!0)]),e("div",Qt,[J(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>k.value=s),onKeyup:pe(Y,["enter"]),type:"text",placeholder:"Tanyakan tentang sistem manajemen pengetahuan...",class:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:m.value},null,40,Xt),[[Q,k.value]]),e("button",{onClick:Y,disabled:m.value||!k.value.trim(),class:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},t[36]||(t[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)]),8,Wt)])])])])])):c("",!0)]),_:1}))}},as=oe(Yt,[["__scopeId","data-v-b03bf539"]]);export{as as default};
