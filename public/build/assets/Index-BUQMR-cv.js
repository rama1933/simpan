import{r as T,c as b,o,w as c,a as e,b as l,e as w,j as p,i as d,l as f,k as g,g as v,v as V,m as _,F as x,s as h,t as r,n as B,B as M}from"./app-DT8T23OV.js";import{_ as L}from"./AdminLayout-3npDIbrg.js";import"./route-fMlyL4SZ.js";const H={class:"flex justify-between items-center mb-6"},K={class:"bg-white p-6 rounded-lg shadow mb-6"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},P={class:"bg-white shadow overflow-hidden sm:rounded-md"},N={class:"divide-y divide-gray-200"},O={class:"flex items-center justify-between"},A={class:"flex-1"},F={class:"flex items-center justify-between"},U={class:"text-sm font-medium text-indigo-600 truncate"},I={class:"ml-2 flex-shrink-0 flex"},$={class:"mt-2 flex items-center text-sm text-gray-500"},E={class:"truncate"},q={class:"mt-2 flex items-center text-sm text-gray-500"},G={class:"mr-4"},J={class:"mr-4"},Q={key:0,class:"mt-2"},R={class:"flex flex-wrap gap-2"},W={class:"ml-4 flex-shrink-0 flex space-x-2"},X=["onClick"],Y={key:0,class:"mt-6"},Z={class:"flex justify-center"},ee={class:"flex space-x-1"},oe={__name:"Index",props:{knowledge:{type:Object,default:()=>({data:[],links:[]})},filters:{type:Object,default:()=>({})},perPage:{type:Number,default:15},user:{type:Object,default:null}},setup(i){const m=i,a=T({search:m.filters.search||"",category:m.filters.category||"",status:m.filters.status||""}),k=(()=>{let n;return()=>{clearTimeout(n),n=setTimeout(()=>{y()},500)}})(),y=()=>{M.get(route("knowledge.index"),a.value,{preserveState:!0,replace:!0})},j=n=>{confirm("Apakah Anda yakin ingin menghapus pengetahuan ini?")&&M.delete(route("knowledge.destroy",n))},C=n=>({draft:"bg-yellow-100 text-yellow-800",published:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"})[n]||"bg-blue-100 text-blue-800",S=n=>({draft:"Draft",published:"Dipublikasi",archived:"Diarsipkan"})[n]||"Tidak Diketahui",D=n=>n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"";return(n,t)=>(o(),b(L,{"page-title":"Knowledge Management",user:i.user},{default:c(()=>[e("div",H,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Manajemen Pengetahuan"),e("p",{class:"text-gray-600 mt-2"},"Kelola dan atur semua pengetahuan dalam sistem")],-1)),p(d(f),{href:n.route("knowledge.create"),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Tambah Pengetahuan ",-1)])),_:1,__:[4]},8,["href"])]),e("div",K,[e("div",z,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pencarian",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.search=s),type:"text",placeholder:"Cari pengetahuan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",onInput:t[1]||(t[1]=(...s)=>d(k)&&d(k)(...s))},null,544),[[V,a.value.search]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"},t[7]||(t[7]=[e("option",{value:""},"Semua Kategori",-1),e("option",{value:"Teknologi"},"Teknologi",-1),e("option",{value:"Bisnis"},"Bisnis",-1),e("option",{value:"Kesehatan"},"Kesehatan",-1),e("option",{value:"Pendidikan"},"Pendidikan",-1),e("option",{value:"Seni & Budaya"},"Seni & Budaya",-1),e("option",{value:"Olahraga"},"Olahraga",-1),e("option",{value:"Sains"},"Sains",-1),e("option",{value:"Lainnya"},"Lainnya",-1)]),512),[[_,a.value.category]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"},t[9]||(t[9]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Dipublikasi",-1),e("option",{value:"archived"},"Diarsipkan",-1)]),512),[[_,a.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:y,class:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Terapkan Filter ")])])]),e("div",P,[e("ul",N,[(o(!0),l(x,null,h(i.knowledge.data,s=>(o(),l("li",{key:s.id,class:"px-6 py-4"},[e("div",O,[e("div",A,[e("div",F,[e("p",U,[p(d(f),{href:n.route("knowledge.show",s.id),class:"hover:text-indigo-500"},{default:c(()=>[g(r(s.title),1)]),_:2},1032,["href"])]),e("div",I,[e("span",{class:B([C(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(S(s.status)),3)])]),e("div",$,[e("span",E,r(s.description),1)]),e("div",q,[e("span",G,[t[11]||(t[11]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),g(" "+r(s.category),1)]),e("span",J,[t[12]||(t[12]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),g(" "+r(s.author?.name||"Unknown"),1)]),e("span",null,[t[13]||(t[13]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),g(" "+r(D(s.created_at)),1)])]),s.tags&&s.tags.length>0?(o(),l("div",Q,[e("div",R,[(o(!0),l(x,null,h(s.tags,u=>(o(),l("span",{key:u,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},r(u),1))),128))])])):w("",!0)]),e("div",W,[p(d(f),{href:n.route("knowledge.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:c(()=>t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[14]},1032,["href"]),e("button",{onClick:u=>j(s.id),class:"text-red-600 hover:text-red-900"},t[15]||(t[15]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,X)])])]))),128))])]),i.knowledge.links&&i.knowledge.links.length>1?(o(),l("div",Y,[e("nav",Z,[e("div",ee,[(o(!0),l(x,null,h(i.knowledge.links,(s,u)=>(o(),b(d(f),{key:u,href:s.url,class:B(["px-3 py-2 text-sm font-medium rounded-md",s.url===null?"text-gray-400 cursor-not-allowed":s.active?"bg-indigo-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):w("",!0)]),_:1},8,["user"]))}};export{oe as default};
