import{c as T,o,w as x,a as e,b as r,i as L,u as g,l as f,j as m,e as a,t as i,q as P,F as b,k as v}from"./app-B8z4ZIzi.js";import{_ as F}from"./PublicLayout-yZRDPoOk.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},S={class:"mb-6"},q={key:0,class:"bg-white rounded-xl shadow-lg overflow-hidden"},A={class:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-8 text-white"},E={class:"flex items-start justify-between"},O={class:"flex-1"},G={class:"flex items-center space-x-3 mb-4"},J={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-white bg-opacity-20 text-white"},Q={class:"text-3xl font-bold mb-4"},R={key:0,class:"text-purple-100 text-lg leading-relaxed"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},W={class:"lg:col-span-2 space-y-6"},X={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Y={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},Z={class:"text-lg font-semibold text-gray-900"},ee={class:"p-6"},te=["innerHTML"],se={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},ie={class:"p-6"},oe={class:"space-y-4"},le={key:0},re={class:"text-sm text-gray-900"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae={key:0},de={class:"text-sm text-gray-900"},ue={key:1},ce={class:"text-sm text-gray-900"},xe={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},me={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},ge={class:"flex items-center justify-between"},fe={class:"text-sm text-gray-500"},be={class:"p-6"},ve={class:"space-y-3"},he={class:"flex-1 min-w-0"},ye={class:"text-sm font-medium text-gray-900 truncate"},pe={class:"text-xs text-gray-500 mt-1"},we=["href"],ke={class:"space-y-6"},_e={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Ve={class:"p-4 space-y-4"},ze={class:"flex items-center space-x-2"},Be={class:"text-sm font-medium text-gray-900"},Me={class:"flex items-center space-x-2"},He={class:"text-sm font-medium text-gray-900"},je={class:"text-xs text-gray-500"},De={class:"flex items-center space-x-2"},Ce={class:"text-sm font-medium text-gray-900"},Te={class:"flex items-center space-x-2"},Le={class:"text-sm font-medium text-gray-900"},Pe={class:"flex items-center space-x-2"},Ke={class:"text-sm font-medium text-gray-900"},$e={class:"border-t border-gray-200 pt-4"},Fe={class:"flex flex-wrap gap-1"},Ie={key:0,class:"text-gray-400 text-xs"},Ne={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Se={class:"p-4"},qe={class:"space-y-2"},Ae={class:"flex items-center space-x-2"},Ee={class:"text-sm font-medium"},Oe={key:0,class:"text-xs"},Ge={class:"text-xs text-gray-500"},Je={key:1,class:"bg-white rounded-xl shadow-lg p-8 text-center"},Qe={__name:"PublicVersionDetail",props:{knowledge:{type:Object,required:!0},version:{type:Object,required:!0},versionHistory:{type:Array,default:()=>[]}},setup(s){function d(n){return n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"Tidak diketahui"}function K(n){if(!n)return"0 B";const t=1024,c=["B","KB","MB","GB"],u=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,u)).toFixed(2))+" "+c[u]}function $(n){return{created:"Dibuat",updated:"Diperbarui",deleted:"Dihapus"}[n]||n}return(n,t)=>(o(),T(F,null,{default:x(()=>{var c,u,h,y,p,w,k,_,V,z,B,M,H,j,D,C;return[e("div",N,[e("div",S,[L(g(f),{href:`/knowledge/public/${s.knowledge.id}`,class:"inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200"},{default:x(()=>t[0]||(t[0]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Kembali ke Pengetahuan ",-1)])),_:1,__:[0]},8,["href"])]),s.version?(o(),r("div",q,[e("div",A,[e("div",E,[e("div",O,[e("div",G,[e("span",J," Versi "+i(s.version.version_number),1),t[1]||(t[1]=e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800"},[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),m(" Terverifikasi ")],-1))]),e("h1",Q,i(s.version.title),1),s.version.summary?(o(),r("p",R,i(s.version.summary),1)):a("",!0)])])]),e("div",U,[e("div",W,[e("div",X,[e("div",Y,[e("h3",Z,"Konten Versi "+i(s.version.version_number),1)]),e("div",ee,[e("div",{class:"prose prose-lg max-w-none",innerHTML:s.version.content},null,8,te)])]),e("div",se,[t[6]||(t[6]=e("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Informasi Perubahan")],-1)),e("div",ie,[e("div",oe,[e("div",null,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Jenis Perubahan",-1)),e("span",{class:P(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",{"bg-green-100 text-green-800":s.version.change_type==="created","bg-blue-100 text-blue-800":s.version.change_type==="updated","bg-red-100 text-red-800":s.version.change_type==="deleted"}])},i($(s.version.change_type)),3)]),s.version.change_reason?(o(),r("div",le,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Alasan Perubahan",-1)),e("p",re,i(s.version.change_reason),1)])):a("",!0),e("div",ne,[s.version.effective_date?(o(),r("div",ae,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Tanggal Efektif",-1)),e("p",de,i(d(s.version.effective_date)),1)])):a("",!0),s.version.expiry_date?(o(),r("div",ue,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Tanggal Kedaluwarsa",-1)),e("p",ce,i(d(s.version.expiry_date)),1)])):a("",!0)])])])]),(u=(c=s.version)==null?void 0:c.attachments)!=null&&u.length?(o(),r("div",xe,[e("div",me,[e("div",ge,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Lampiran",-1)),e("span",fe,i(s.version.attachments.length)+" file",1)])]),e("div",be,[e("div",ve,[(o(!0),r(b,null,v(s.version.attachments,l=>(o(),r("div",{key:l.id,class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-colors"},[t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4"},[e("svg",{class:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",he,[e("p",ye,i(l.original_filename),1),e("p",pe,i(K(l.file_size)),1)]),e("a",{href:`/storage/${l.file_path}`,target:"_blank",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},t[8]||(t[8]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" Download ",-1)]),8,we)]))),128))])])])):a("",!0)]),e("div",ke,[e("div",_e,[t[21]||(t[21]=e("div",{class:"bg-gray-50 px-4 py-3 border-b border-gray-200"},[e("h3",{class:"text-base font-semibold text-gray-900"},"Informasi Versi")],-1)),e("div",Ve,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Dibuat oleh",-1)),e("div",ze,[t[10]||(t[10]=e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])],-1)),e("p",Be,i(((y=(h=s.version)==null?void 0:h.creator)==null?void 0:y.name)||"-"),1)])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Diverifikasi oleh",-1)),e("div",Me,[t[12]||(t[12]=e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",null,[e("p",He,i(((w=(p=s.version)==null?void 0:p.verifier)==null?void 0:w.name)||"-"),1),e("p",je,i(d((k=s.version)==null?void 0:k.verified_at)),1)])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"SKPD",-1)),e("div",De,[t[14]||(t[14]=e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-6a1 1 0 00-1-1H9a1 1 0 00-1 1v6a1 1 0 01-1 1H4a1 1 0 110-2V4z","clip-rule":"evenodd"})])],-1)),e("p",Ce,i(((V=(_=s.version)==null?void 0:_.skpd)==null?void 0:V.nama_skpd)||"-"),1)])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Kategori",-1)),e("div",Te,[t[16]||(t[16]=e("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})])],-1)),e("p",Le,i(((B=(z=s.version)==null?void 0:z.category)==null?void 0:B.name)||"-"),1)])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Tanggal Dibuat",-1)),e("div",Pe,[t[18]||(t[18]=e("div",{class:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),e("p",Ke,i(d((M=s.version)==null?void 0:M.created_at)),1)])]),e("div",$e,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Tags",-1)),e("div",Fe,[(o(!0),r(b,null,v((H=s.version)==null?void 0:H.tags,l=>(o(),r("span",{key:l.id,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},i(l.name),1))),128)),(D=(j=s.version)==null?void 0:j.tags)!=null&&D.length?a("",!0):(o(),r("span",Ie,"Tidak ada tags"))])])])])]),s.versionHistory&&s.versionHistory.length>1?(o(),r("div",Ne,[t[22]||(t[22]=e("div",{class:"bg-gray-50 px-4 py-3 border-b border-gray-200"},[e("h3",{class:"text-base font-semibold text-gray-900"},"Versi Lainnya")],-1)),e("div",Se,[e("div",qe,[(o(!0),r(b,null,v(s.versionHistory,l=>(o(),T(g(f),{key:l.id,href:l.id===s.version.id?"#":`/knowledge/public/${s.knowledge.id}/version/${l.version_number}`,class:P(["flex items-center justify-between p-2 rounded-lg transition-colors",l.id===s.version.id?"bg-purple-100 text-purple-800 cursor-default":"hover:bg-gray-50 text-gray-700 hover:text-gray-900"])},{default:x(()=>[e("div",Ae,[e("span",Ee,"v"+i(l.version_number),1),l.id===s.version.id?(o(),r("span",Oe,"(Saat ini)")):a("",!0)]),e("span",Ge,i(d(l.created_at)),1)]),_:2},1032,["href","class"]))),128))])])])):a("",!0)])])])):(o(),r("div",Je,[t[24]||(t[24]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Versi Tidak Ditemukan",-1)),t[26]||(t[26]=e("p",{class:"text-gray-600 mb-6"},"Versi pengetahuan yang Anda cari tidak ditemukan atau belum dipublikasikan.",-1)),L(g(f),{href:`/knowledge/public/${((C=s.knowledge)==null?void 0:C.id)||1}`,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>t[23]||(t[23]=[m(" Kembali ke Pengetahuan ",-1)])),_:1,__:[23]},8,["href"])]))])]}),_:1}))}},Xe=I(Qe,[["__scopeId","data-v-4a64fcba"]]);export{Xe as default};
