import{u as T,r as y,b as i,o as a,a as e,j as v,w,i as n,l as h,t as l,f as M,g as c,e as g,k as m,v as b,n as f,m as S,p as j,q as C,F as P,s as U}from"./app-CE_rQSty.js";const q={class:"min-h-screen bg-gray-50"},D={class:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8"},E={class:"px-4 py-6 sm:px-0"},L={class:"mb-6"},N={class:"flex items-center"},F={class:"text-gray-600 mt-2"},O={class:"bg-white shadow rounded-lg"},z={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},W=["onKeydown"],$={key:0,class:"mt-2 flex flex-wrap gap-2"},A=["onClick"],G={key:1,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},R={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},X=["disabled"],Y={key:0},Z={key:1},te={__name:"Edit",props:{knowledge:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(o){const u=o,s=T({title:u.knowledge.title||"",description:u.knowledge.description||"",content:u.knowledge.content||"",category:u.knowledge.category||"",tags:u.knowledge.tags||[],status:u.knowledge.status||"draft"}),x=y(""),p=y(!1),V=()=>{const d=x.value.trim();d&&!s.tags.includes(d)&&(s.tags.push(d),x.value="")},B=d=>{s.tags.splice(d,1)},K=()=>{p.value=!0,s.put(route("knowledge.update",u.knowledge.id),{onSuccess:()=>{p.value=!1},onError:()=>{p.value=!1}})};return(d,t)=>(a(),i("div",q,[e("div",D,[e("div",E,[e("div",L,[e("div",N,[v(n(h),{href:d.route("knowledge.show",o.knowledge.id),class:"text-indigo-600 hover:text-indigo-500 mr-4"},{default:w(()=>t[6]||(t[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),_:1,__:[6]},8,["href"]),e("div",null,[t[7]||(t[7]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Pengetahuan",-1)),e("p",F,"Edit pengetahuan: "+l(o.knowledge.title),1)])])]),e("div",O,[e("form",{onSubmit:M(K,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[8]||(t[8]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Judul "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=r=>n(s).title=r),type:"text",required:"",class:f(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o.errors.title}]),placeholder:"Masukkan judul pengetahuan"},null,2),[[b,n(s).title]]),o.errors.title?(a(),i("p",z,l(o.errors.title),1)):g("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Deskripsi Singkat ",-1)),c(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=r=>n(s).description=r),rows:"3",class:f(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o.errors.description}]),placeholder:"Masukkan deskripsi singkat pengetahuan"},null,2),[[b,n(s).description]]),o.errors.description?(a(),i("p",H,l(o.errors.description),1)):g("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"content",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Konten "),e("span",{class:"text-red-500"},"*")],-1)),c(e("textarea",{id:"content","onUpdate:modelValue":t[2]||(t[2]=r=>n(s).content=r),rows:"10",required:"",class:f(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o.errors.content}]),placeholder:"Masukkan konten lengkap pengetahuan"},null,2),[[b,n(s).content]]),o.errors.content?(a(),i("p",I,l(o.errors.content),1)):g("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Kategori "),e("span",{class:"text-red-500"},"*")],-1)),c(e("select",{id:"category","onUpdate:modelValue":t[3]||(t[3]=r=>n(s).category=r),required:"",class:f(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o.errors.category}])},t[11]||(t[11]=[j('<option value="">Pilih Kategori</option><option value="Teknologi">Teknologi</option><option value="Bisnis">Bisnis</option><option value="Kesehatan">Kesehatan</option><option value="Pendidikan">Pendidikan</option><option value="Seni &amp; Budaya">Seni &amp; Budaya</option><option value="Olahraga">Olahraga</option><option value="Sains">Sains</option><option value="Lainnya">Lainnya</option>',9)]),2),[[S,n(s).category]]),o.errors.category?(a(),i("p",J,l(o.errors.category),1)):g("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{for:"tags",class:"block text-sm font-medium text-gray-700 mb-2"}," Tags ",-1)),c(e("input",{id:"tags","onUpdate:modelValue":t[4]||(t[4]=r=>x.value=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Masukkan tags dipisahkan dengan koma (contoh: Laravel, PHP, Web)",onKeydown:C(M(V,["prevent"]),["enter"])},null,40,W),[[b,x.value]]),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-500"},"Tekan Enter untuk menambah tag",-1)),n(s).tags&&n(s).tags.length>0?(a(),i("div",$,[(a(!0),i(P,null,U(n(s).tags,(r,k)=>(a(),i("span",{key:k,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800"},[m(l(r)+" ",1),e("button",{type:"button",onClick:_=>B(k),class:"ml-2 text-indigo-600 hover:text-indigo-800"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,A)]))),128))])):g("",!0),o.errors.tags?(a(),i("p",G,l(o.errors.tags),1)):g("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Status "),e("span",{class:"text-red-500"},"*")],-1)),c(e("select",{id:"status","onUpdate:modelValue":t[5]||(t[5]=r=>n(s).status=r),required:"",class:f(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o.errors.status}])},t[16]||(t[16]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Dipublikasi",-1),e("option",{value:"archived"},"Diarsipkan",-1)]),2),[[S,n(s).status]]),o.errors.status?(a(),i("p",Q,l(o.errors.status),1)):g("",!0)]),e("div",R,[v(n(h),{href:d.route("knowledge.show",o.knowledge.id),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:w(()=>t[18]||(t[18]=[m(" Batal ",-1)])),_:1,__:[18]},8,["href"]),e("button",{type:"submit",disabled:p.value,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(a(),i("span",Y,"Menyimpan...")):(a(),i("span",Z,"Update Pengetahuan"))],8,X)])],32)])])])]))}};export{te as default};
