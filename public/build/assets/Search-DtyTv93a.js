import{r as c,G as q,b as o,o as s,a as e,f as z,g,v as y,B as x,P as w,e as l,j as m,q as _,t as d,F as S,k as B,i as C,w as T,u as D,l as V,y as L}from"./app-FastzsqD.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"min-h-screen bg-gray-50"},E={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},I={class:"px-4 py-6 sm:px-0"},O={class:"bg-white shadow rounded-lg mb-8"},R={class:"p-6"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},G={key:0,class:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4"},J={class:"flex justify-between items-center"},Z=["disabled"],Q={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},W={key:0},X={class:"bg-white shadow rounded-lg"},Y={class:"px-6 py-4 border-b border-gray-200"},$={class:"flex items-center justify-between"},ee={class:"text-lg font-medium text-gray-900"},te={key:0,class:"text-sm font-normal text-gray-500 ml-2"},ae={key:0,class:"flex items-center space-x-4"},oe={class:"p-6"},se={key:0,class:"text-center py-12"},re={key:1,class:"space-y-6"},ne={class:"flex items-start justify-between"},ie={class:"flex-1"},de={class:"flex items-center space-x-3 mb-2"},le={class:"text-sm text-gray-500"},ue={class:"text-lg font-medium text-gray-900 mb-2"},ge={key:0,class:"text-gray-600 mb-3 line-clamp-2"},me={class:"flex items-center text-sm text-gray-500 space-x-4"},ce={class:"flex items-center"},pe={class:"flex items-center"},fe={key:1,class:"mt-3"},ve={class:"flex flex-wrap gap-2"},ye={class:"ml-4 flex-shrink-0"},xe={key:2,class:"mt-8"},be={key:1,class:"bg-white shadow rounded-lg"},he={__name:"Search",setup(ke){const u=c(!1),p=c(!1),f=c(!1),v=c("relevance"),r=q({query:"",category:"",status:"",dateFrom:"",dateTo:"",author:""}),i=c([]),b=()=>{u.value=!0,p.value=!0;const n={...r,sort:v.value};L.get(route("knowledge.search"),n,{preserveState:!0,onSuccess:t=>{i.value=t.props.searchResults||[],u.value=!1},onError:()=>{u.value=!1}})},M=()=>{Object.keys(r).forEach(n=>{r[n]=""}),v.value="relevance",i.value=[],p.value=!1},P=()=>{f.value=!f.value},j=()=>{p.value&&b()},F=n=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",U=n=>({published:"Dipublikasi",draft:"Draft",archived:"Diarsipkan"})[n]||n,K=n=>n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"";return(n,t)=>(s(),o("div",A,[e("div",E,[e("div",I,[t[28]||(t[28]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Cari Pengetahuan"),e("p",{class:"text-gray-600 mt-2"},"Temukan pengetahuan yang Anda butuhkan")],-1)),e("div",O,[t[18]||(t[18]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Form Pencarian")],-1)),e("div",R,[e("form",{onSubmit:z(b,["prevent"]),class:"space-y-6"},[e("div",H,[e("div",null,[t[7]||(t[7]=e("label",{for:"query",class:"block text-sm font-medium text-gray-700 mb-2"}," Kata Kunci ",-1)),g(e("input",{id:"query","onUpdate:modelValue":t[0]||(t[0]=a=>r.query=a),type:"text",placeholder:"Masukkan kata kunci pencarian...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,r.query]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," Kategori ",-1)),g(e("select",{id:"category","onUpdate:modelValue":t[1]||(t[1]=a=>r.category=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[8]||(t[8]=[w('<option value="" data-v-a84fe825>Semua Kategori</option><option value="Teknologi" data-v-a84fe825>Teknologi</option><option value="Bisnis" data-v-a84fe825>Bisnis</option><option value="Kesehatan" data-v-a84fe825>Kesehatan</option><option value="Pendidikan" data-v-a84fe825>Pendidikan</option><option value="Seni &amp; Budaya" data-v-a84fe825>Seni &amp; Budaya</option><option value="Olahraga" data-v-a84fe825>Olahraga</option><option value="Sains" data-v-a84fe825>Sains</option><option value="Lainnya" data-v-a84fe825>Lainnya</option>',9)]),512),[[x,r.category]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),g(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=a=>r.status=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[10]||(t[10]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"published"},"Dipublikasi",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"archived"},"Diarsipkan",-1)]),512),[[x,r.status]])])]),e("div",null,[e("button",{type:"button",onClick:P,class:"flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[(s(),o("svg",{class:_([f.value?"rotate-90":"","w-4 h-4 mr-2 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2)),t[13]||(t[13]=m(" Pencarian Lanjutan ",-1))]),f.value?(s(),o("div",G,[e("div",null,[t[14]||(t[14]=e("label",{for:"dateFrom",class:"block text-sm font-medium text-gray-700 mb-2"}," Dari Tanggal ",-1)),g(e("input",{id:"dateFrom","onUpdate:modelValue":t[3]||(t[3]=a=>r.dateFrom=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,r.dateFrom]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"dateTo",class:"block text-sm font-medium text-gray-700 mb-2"}," Sampai Tanggal ",-1)),g(e("input",{id:"dateTo","onUpdate:modelValue":t[4]||(t[4]=a=>r.dateTo=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,r.dateTo]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"author",class:"block text-sm font-medium text-gray-700 mb-2"}," Penulis ",-1)),g(e("input",{id:"author","onUpdate:modelValue":t[5]||(t[5]=a=>r.author=a),type:"text",placeholder:"Nama penulis...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,r.author]])])])):l("",!0)]),e("div",J,[e("button",{type:"button",onClick:M,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Bersihkan "),e("button",{type:"submit",disabled:u.value,class:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[u.value?(s(),o("svg",Q,t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):l("",!0),m(" "+d(u.value?"Mencari...":"Cari"),1)],8,Z)])],32)])]),p.value?(s(),o("div",W,[e("div",X,[e("div",Y,[e("div",$,[e("h3",ee,[t[19]||(t[19]=m(" Hasil Pencarian ",-1)),i.value.length>0?(s(),o("span",te," ("+d(i.value.length)+" hasil) ",1)):l("",!0)]),i.value.length>0?(s(),o("div",ae,[t[21]||(t[21]=e("label",{for:"sortBy",class:"text-sm font-medium text-gray-700"},"Urutkan:",-1)),g(e("select",{id:"sortBy","onUpdate:modelValue":t[6]||(t[6]=a=>v.value=a),onChange:j,class:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[20]||(t[20]=[e("option",{value:"relevance"},"Relevansi",-1),e("option",{value:"newest"},"Terbaru",-1),e("option",{value:"oldest"},"Terlama",-1),e("option",{value:"title"},"Judul A-Z",-1)]),544),[[x,v.value]])])):l("",!0)])]),e("div",oe,[i.value.length===0&&!u.value?(s(),o("div",se,t[22]||(t[22]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada hasil",-1),e("p",{class:"mt-1 text-sm text-gray-500"}," Coba ubah kata kunci atau filter pencarian Anda. ",-1)]))):i.value.length>0?(s(),o("div",re,[(s(!0),o(S,null,B(i.value,a=>{var h;return s(),o("div",{key:a.id,class:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow"},[e("div",ne,[e("div",ie,[e("div",de,[e("span",{class:_([F(a.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},d(U(a.status)),3),e("span",le,d(a.category),1)]),e("h3",ue,[C(D(V),{href:n.route("knowledge.show",a.id),class:"hover:text-indigo-600 transition-colors"},{default:T(()=>[m(d(a.title),1)]),_:2},1032,["href"])]),a.description?(s(),o("p",ge,d(a.description),1)):l("",!0),e("div",me,[e("span",ce,[t[23]||(t[23]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),m(" "+d(((h=a.author)==null?void 0:h.name)||"Unknown"),1)]),e("span",pe,[t[24]||(t[24]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 6h8"})],-1)),m(" "+d(K(a.created_at)),1)])]),a.tags&&a.tags.length>0?(s(),o("div",fe,[e("div",ve,[(s(!0),o(S,null,B(a.tags,k=>(s(),o("span",{key:k,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},d(k),1))),128))])])):l("",!0)]),e("div",ye,[C(D(V),{href:n.route("knowledge.show",a.id),class:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:T(()=>t[25]||(t[25]=[m(" Lihat Detail ",-1)])),_:2,__:[25]},1032,["href"])])])])}),128))])):l("",!0),i.value.length>0?(s(),o("div",xe,t[26]||(t[26]=[e("div",{class:"text-center text-sm text-gray-500"}," Pagination akan diimplementasikan nanti ",-1)]))):l("",!0)])])])):(s(),o("div",be,t[27]||(t[27]=[w('<div class="px-6 py-4 border-b border-gray-200" data-v-a84fe825><h3 class="text-lg font-medium text-gray-900" data-v-a84fe825>Saran Pencarian</h3></div><div class="p-6" data-v-a84fe825><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" data-v-a84fe825><div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer" data-v-a84fe825><h4 class="font-medium text-gray-900 mb-2" data-v-a84fe825>Teknologi</h4><p class="text-sm text-gray-600" data-v-a84fe825>Cari artikel tentang teknologi terbaru</p></div><div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer" data-v-a84fe825><h4 class="font-medium text-gray-900 mb-2" data-v-a84fe825>Bisnis</h4><p class="text-sm text-gray-600" data-v-a84fe825>Strategi dan tips bisnis</p></div><div class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer" data-v-a84fe825><h4 class="font-medium text-gray-900 mb-2" data-v-a84fe825>Kesehatan</h4><p class="text-sm text-gray-600" data-v-a84fe825>Informasi kesehatan dan gaya hidup</p></div></div></div>',2)])))])])]))}},Se=N(he,[["__scopeId","data-v-a84fe825"]]);export{Se as default};
