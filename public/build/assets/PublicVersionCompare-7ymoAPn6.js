import{c as p,o,w as g,a as e,b as l,e as a,i as D,u as j,j as V,k as B,t as n,F as c,m as u,s as M}from"./app-wKfORXs7.js";import{_ as H}from"./PublicLayout-DUnXFugD.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},T={class:"mb-6"},z={class:"bg-white rounded-xl shadow-lg overflow-hidden mb-6"},P={class:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-8 text-white"},$={class:"text-center"},F={class:"text-indigo-100 text-lg"},I={class:"flex items-center justify-center space-x-4 mt-4"},K={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-white bg-opacity-20 text-white"},N={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-white bg-opacity-20 text-white"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},A={class:"bg-white rounded-xl shadow-lg overflow-hidden"},O={class:"bg-blue-50 px-6 py-4 border-b border-blue-200"},J={class:"flex items-center justify-between"},R={class:"text-xl font-bold text-blue-900"},S={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"},E={class:"text-blue-700 mt-2"},G={class:"p-6 space-y-6"},Q={key:0},U={class:"text-gray-700 bg-gray-50 p-4 rounded-lg"},W=["innerHTML"],X={class:"bg-blue-50 p-4 rounded-lg"},Y={class:"space-y-2 text-sm"},Z={class:"flex justify-between"},ee={class:"font-medium text-blue-900"},te={key:0,class:"flex justify-between"},se={class:"font-medium text-blue-900 text-right max-w-xs"},ne={class:"flex justify-between"},ie={class:"font-medium text-blue-900"},oe={class:"flex justify-between"},le={class:"font-medium text-blue-900"},re={key:1},ae={class:"flex flex-wrap gap-2"},de={key:2},ce={class:"text-sm font-semibold text-gray-900 mb-2"},ue={class:"space-y-2"},xe={class:"flex items-center space-x-2"},me={class:"text-xs font-medium text-gray-900"},ge={class:"text-xs text-gray-500"},fe=["href"],be={class:"bg-white rounded-xl shadow-lg overflow-hidden"},he={class:"bg-green-50 px-6 py-4 border-b border-green-200"},ve={class:"flex items-center justify-between"},ye={class:"text-xl font-bold text-green-900"},we={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800"},_e={class:"text-green-700 mt-2"},ke={class:"p-6 space-y-6"},pe={key:0},je={class:"text-gray-700 bg-gray-50 p-4 rounded-lg"},Ve=["innerHTML"],De={class:"bg-green-50 p-4 rounded-lg"},Be={class:"space-y-2 text-sm"},Me={class:"flex justify-between"},He={class:"font-medium text-green-900"},Ce={key:0,class:"flex justify-between"},Le={class:"font-medium text-green-900 text-right max-w-xs"},Te={class:"flex justify-between"},ze={class:"font-medium text-green-900"},Pe={class:"flex justify-between"},$e={class:"font-medium text-green-900"},Fe={key:1},Ie={class:"flex flex-wrap gap-2"},Ke={key:2},Ne={class:"text-sm font-semibold text-gray-900 mb-2"},qe={class:"space-y-2"},Ae={class:"flex items-center space-x-2"},Oe={class:"text-xs font-medium text-gray-900"},Je={class:"text-xs text-gray-500"},Re=["href"],Se={key:0,class:"mt-6 bg-white rounded-xl shadow-lg overflow-hidden"},Ee={class:"p-6"},Ge={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3"},Qe={class:"text-sm font-medium"},Ue={class:"text-xs text-center mt-1"},We={key:0,class:"text-xs mt-1 font-medium"},Xe={__name:"PublicVersionCompare",props:{knowledge:{type:Object,required:!0},version1:{type:Object,required:!0},version2:{type:Object,required:!0},versionHistory:{type:Array,default:()=>[]}},setup(s){function m(r){return r?new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"Tidak diketahui"}function f(r){if(!r)return"0 B";const t=1024,x=["B","KB","MB","GB"],d=Math.floor(Math.log(r)/Math.log(t));return parseFloat((r/Math.pow(t,d)).toFixed(2))+" "+x[d]}function b(r){return{created:"Dibuat",updated:"Diperbarui",deleted:"Dihapus"}[r]||r}return(r,t)=>(o(),p(H,null,{default:g(()=>{var x,d,h,v,y,w,_,k;return[e("div",L,[e("div",T,[D(j(V),{href:`/knowledge/public/${s.knowledge.id}`,class:"inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200"},{default:g(()=>t[0]||(t[0]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),B(" Kembali ke Pengetahuan ",-1)])),_:1,__:[0]},8,["href"])]),e("div",z,[e("div",P,[e("div",$,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold mb-4"},"Perbandingan Versi",-1)),e("p",F,n(s.knowledge.title),1),e("div",I,[e("span",K," Versi "+n(s.version1.version_number),1),t[1]||(t[1]=e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16l4-4m0 0l4-4m-4 4H3m4 0v6a2 2 0 002 2h6a2 2 0 002-2v-6"})],-1)),e("span",N," Versi "+n(s.version2.version_number),1)])])])]),e("div",q,[e("div",A,[e("div",O,[e("div",J,[e("h2",R,"Versi "+n(s.version1.version_number),1),e("span",S,n(m(s.version1.created_at)),1)]),e("p",E,n(s.version1.title),1)]),e("div",G,[s.version1.summary?(o(),l("div",Q,[t[3]||(t[3]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Ringkasan",-1)),e("p",U,n(s.version1.summary),1)])):a("",!0),e("div",null,[t[4]||(t[4]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Konten",-1)),e("div",{class:"prose prose-sm max-w-none bg-gray-50 p-4 rounded-lg",innerHTML:s.version1.content},null,8,W)]),e("div",X,[t[9]||(t[9]=e("h4",{class:"text-sm font-semibold text-blue-900 mb-2"},"Informasi Perubahan",-1)),e("div",Y,[e("div",Z,[t[5]||(t[5]=e("span",{class:"text-blue-700"},"Jenis:",-1)),e("span",ee,n(b(s.version1.change_type)),1)]),s.version1.change_reason?(o(),l("div",te,[t[6]||(t[6]=e("span",{class:"text-blue-700"},"Alasan:",-1)),e("span",se,n(s.version1.change_reason),1)])):a("",!0),e("div",ne,[t[7]||(t[7]=e("span",{class:"text-blue-700"},"Dibuat oleh:",-1)),e("span",ie,n(((x=s.version1.creator)==null?void 0:x.name)||"-"),1)]),e("div",oe,[t[8]||(t[8]=e("span",{class:"text-blue-700"},"Diverifikasi oleh:",-1)),e("span",le,n(((d=s.version1.verifier)==null?void 0:d.name)||"-"),1)])])]),(h=s.version1.tags)!=null&&h.length?(o(),l("div",re,[t[10]||(t[10]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-2"},"Tags",-1)),e("div",ae,[(o(!0),l(c,null,u(s.version1.tags,i=>(o(),l("span",{key:i.id,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},n(i.name),1))),128))])])):a("",!0),(v=s.version1.attachments)!=null&&v.length?(o(),l("div",de,[e("h4",ce,"Lampiran ("+n(s.version1.attachments.length)+")",1),e("div",ue,[(o(!0),l(c,null,u(s.version1.attachments,i=>(o(),l("div",{key:i.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[e("div",xe,[t[11]||(t[11]=e("svg",{class:"w-4 h-4 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("p",me,n(i.original_filename),1),e("p",ge,n(f(i.file_size)),1)])]),e("a",{href:`/storage/${i.file_path}`,target:"_blank",class:"text-xs text-blue-600 hover:text-blue-800"}," Download ",8,fe)]))),128))])])):a("",!0)])]),e("div",be,[e("div",he,[e("div",ve,[e("h2",ye,"Versi "+n(s.version2.version_number),1),e("span",we,n(m(s.version2.created_at)),1)]),e("p",_e,n(s.version2.title),1)]),e("div",ke,[s.version2.summary?(o(),l("div",pe,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Ringkasan",-1)),e("p",je,n(s.version2.summary),1)])):a("",!0),e("div",null,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Konten",-1)),e("div",{class:"prose prose-sm max-w-none bg-gray-50 p-4 rounded-lg",innerHTML:s.version2.content},null,8,Ve)]),e("div",De,[t[18]||(t[18]=e("h4",{class:"text-sm font-semibold text-green-900 mb-2"},"Informasi Perubahan",-1)),e("div",Be,[e("div",Me,[t[14]||(t[14]=e("span",{class:"text-green-700"},"Jenis:",-1)),e("span",He,n(b(s.version2.change_type)),1)]),s.version2.change_reason?(o(),l("div",Ce,[t[15]||(t[15]=e("span",{class:"text-green-700"},"Alasan:",-1)),e("span",Le,n(s.version2.change_reason),1)])):a("",!0),e("div",Te,[t[16]||(t[16]=e("span",{class:"text-green-700"},"Dibuat oleh:",-1)),e("span",ze,n(((y=s.version2.creator)==null?void 0:y.name)||"-"),1)]),e("div",Pe,[t[17]||(t[17]=e("span",{class:"text-green-700"},"Diverifikasi oleh:",-1)),e("span",$e,n(((w=s.version2.verifier)==null?void 0:w.name)||"-"),1)])])]),(_=s.version2.tags)!=null&&_.length?(o(),l("div",Fe,[t[19]||(t[19]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-2"},"Tags",-1)),e("div",Ie,[(o(!0),l(c,null,u(s.version2.tags,i=>(o(),l("span",{key:i.id,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full"},n(i.name),1))),128))])])):a("",!0),(k=s.version2.attachments)!=null&&k.length?(o(),l("div",Ke,[e("h4",Ne,"Lampiran ("+n(s.version2.attachments.length)+")",1),e("div",qe,[(o(!0),l(c,null,u(s.version2.attachments,i=>(o(),l("div",{key:i.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[e("div",Ae,[t[20]||(t[20]=e("svg",{class:"w-4 h-4 text-green-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("p",Oe,n(i.original_filename),1),e("p",Je,n(f(i.file_size)),1)])]),e("a",{href:`/storage/${i.file_path}`,target:"_blank",class:"text-xs text-green-600 hover:text-green-800"}," Download ",8,Re)]))),128))])])):a("",!0)])])]),s.versionHistory&&s.versionHistory.length>2?(o(),l("div",Se,[t[21]||(t[21]=e("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Bandingkan dengan Versi Lain")],-1)),e("div",Ee,[e("div",Ge,[(o(!0),l(c,null,u(s.versionHistory,i=>(o(),p(j(V),{key:i.id,href:`/knowledge/public/${s.knowledge.id}/version/${i.version_number}`,class:M(["flex flex-col items-center p-3 rounded-lg border-2 transition-colors",i.id===s.version1.id||i.id===s.version2.id?"border-indigo-300 bg-indigo-50 text-indigo-800":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700"])},{default:g(()=>[e("span",Qe,"v"+n(i.version_number),1),e("span",Ue,n(m(i.created_at)),1),i.id===s.version1.id||i.id===s.version2.id?(o(),l("span",We," (Dipilih) ")):a("",!0)]),_:2},1032,["href","class"]))),128))])])])):a("",!0)])]}),_:1}))}},tt=C(Xe,[["__scopeId","data-v-bbaffdae"]]);export{tt as default};
