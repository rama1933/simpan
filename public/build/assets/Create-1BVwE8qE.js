import{m as V,r as M,n as K,c as D,o as d,w as f,a as e,i as x,u as r,l as k,j as y,f as S,g as n,b as i,e as l,v as g,t as a,F as v,k as w,p as m}from"./app-BVYVdaoR.js";import{_ as B}from"./AdminLayout-B6iN6CQN.js";import{r as c}from"./route-BA7VisEj.js";import"./sidebar.esm-B-fVakm-.js";const U={class:"max-w-4xl mx-auto space-y-6"},j={class:"flex items-center justify-between"},h={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},T={key:0,class:"text-red-600 text-sm mt-1"},q={key:0,class:"text-red-600 text-sm mt-1"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C=["value"],N={key:0,class:"text-red-600 text-sm mt-1"},F=["value"],A={key:0,class:"text-red-600 text-sm mt-1"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={key:0,class:"text-red-600 text-sm mt-1"},I={key:0,class:"text-red-600 text-sm mt-1"},J={key:0,class:"text-red-600 text-sm mt-1"},L={key:0,class:"text-red-600 text-sm mt-1"},O={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},$=["disabled"],z={key:0},H={key:1},Y={__name:"Create",props:{categories:Array,skpds:Array,user:Object},setup(p){const s=V({title:"",description:"",content:"",category_id:"",skpd_id:"",status:"draft",verification_status:"pending",tags:[]}),b=M("");K(b,u=>{s.tags=u.split(",").map(t=>t.trim()).filter(t=>t.length>0)});const _=()=>{s.post(c("admin.knowledge.store"),{onSuccess:()=>{},onError:u=>{console.error("Validation errors:",u)}})};return(u,t)=>(d(),D(B,{"page-title":"Tambah Knowledge",user:p.user},{default:f(()=>[e("div",U,[e("div",j,[t[9]||(t[9]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Tambah Knowledge Baru"),e("p",{class:"text-gray-600 mt-1"},"Buat knowledge baru untuk sistem")],-1)),x(r(k),{href:r(c)("admin.knowledge.index"),class:"inline-flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:f(()=>t[8]||(t[8]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),y(" Kembali ",-1)])),_:1,__:[8]},8,["href"])]),e("div",h,[e("form",{onSubmit:S(_,["prevent"]),class:"space-y-6"},[e("div",null,[t[10]||(t[10]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},"Judul Knowledge *",-1)),n(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>r(s).title=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Masukkan judul knowledge"},null,512),[[g,r(s).title]]),r(s).errors.title?(d(),i("div",T,a(r(s).errors.title),1)):l("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"},"Deskripsi",-1)),n(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=o=>r(s).description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Masukkan deskripsi singkat"},null,512),[[g,r(s).description]]),r(s).errors.description?(d(),i("div",q,a(r(s).errors.description),1)):l("",!0)]),e("div",P,[e("div",null,[t[13]||(t[13]=e("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori *",-1)),n(e("select",{id:"category_id","onUpdate:modelValue":t[2]||(t[2]=o=>r(s).category_id=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"},[t[12]||(t[12]=e("option",{value:""},"Pilih Kategori",-1)),(d(!0),i(v,null,w(p.categories,o=>(d(),i("option",{key:o.id,value:o.id},a(o.name),9,C))),128))],512),[[m,r(s).category_id]]),r(s).errors.category_id?(d(),i("div",N,a(r(s).errors.category_id),1)):l("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"skpd_id",class:"block text-sm font-medium text-gray-700 mb-2"},"SKPD *",-1)),n(e("select",{id:"skpd_id","onUpdate:modelValue":t[3]||(t[3]=o=>r(s).skpd_id=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"},[t[14]||(t[14]=e("option",{value:""},"Pilih SKPD",-1)),(d(!0),i(v,null,w(p.skpds,o=>(d(),i("option",{key:o.id,value:o.id},a(o.name),9,F))),128))],512),[[m,r(s).skpd_id]]),r(s).errors.skpd_id?(d(),i("div",A,a(r(s).errors.skpd_id),1)):l("",!0)])]),e("div",E,[e("div",null,[t[17]||(t[17]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},"Status *",-1)),n(e("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=o=>r(s).status=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"},t[16]||(t[16]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Dipublikasi",-1),e("option",{value:"archived"},"Diarsipkan",-1)]),512),[[m,r(s).status]]),r(s).errors.status?(d(),i("div",G,a(r(s).errors.status),1)):l("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{for:"verification_status",class:"block text-sm font-medium text-gray-700 mb-2"},"Status Verifikasi",-1)),n(e("select",{id:"verification_status","onUpdate:modelValue":t[5]||(t[5]=o=>r(s).verification_status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"},t[18]||(t[18]=[e("option",{value:"pending"},"Menunggu Verifikasi",-1),e("option",{value:"verified"},"Terverifikasi",-1),e("option",{value:"rejected"},"Ditolak",-1)]),512),[[m,r(s).verification_status]]),r(s).errors.verification_status?(d(),i("div",I,a(r(s).errors.verification_status),1)):l("",!0)])]),e("div",null,[t[20]||(t[20]=e("label",{for:"tags",class:"block text-sm font-medium text-gray-700 mb-2"},"Tags",-1)),n(e("input",{id:"tags","onUpdate:modelValue":t[6]||(t[6]=o=>b.value=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Masukkan tags dipisahkan dengan koma"},null,512),[[g,b.value]]),t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 mt-1"},"Pisahkan tags dengan koma (contoh: teknologi, panduan, sop)",-1)),r(s).errors.tags?(d(),i("div",J,a(r(s).errors.tags),1)):l("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"content",class:"block text-sm font-medium text-gray-700 mb-2"},"Konten *",-1)),n(e("textarea",{id:"content","onUpdate:modelValue":t[7]||(t[7]=o=>r(s).content=o),rows:"15",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 font-mono text-sm",placeholder:"Masukkan konten knowledge dalam format Markdown"},null,512),[[g,r(s).content]]),t[23]||(t[23]=e("p",{class:"text-sm text-gray-500 mt-1"},"Gunakan format Markdown untuk formatting (contoh: **bold**, *italic*, # heading)",-1)),r(s).errors.content?(d(),i("div",L,a(r(s).errors.content),1)):l("",!0)]),e("div",O,[x(r(k),{href:r(c)("admin.knowledge.index"),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:f(()=>t[24]||(t[24]=[y(" Batal ",-1)])),_:1,__:[24]},8,["href"]),e("button",{type:"submit",disabled:r(s).processing,class:"px-6 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[r(s).processing?(d(),i("span",z,"Menyimpan...")):(d(),i("span",H,"Simpan Knowledge"))],8,$)])],32)])])]),_:1},8,["user"]))}};export{Y as default};
